syntax = "proto3";

package user_schema;

option go_package = "github.com/rommms07/idream-erp/core/pb";

import "google/protobuf/timestamp.proto";

message User_fullname {
    string first_name = 1;
    string last_name = 2;
    string middle_name = 3;
    uint64 suffix = 4;
}

enum User_gender {
  MALE = 0;
  FEMALE = 1;
  NEUTRAL = 2;
}

enum User_type {
  NORMAL = 0;
  PRIVILEGED = 1;
}

enum TokenType {
	FB_CONSUMER_TOKEN = 0;
  FB_BUSINESS_TOKEN = 1;
	
  // Local JWT token based login are considered offline-logins. When you are
  // logged in as JWT, only a few features are limited for you to access. 
  // You cannot access online services (like Facebook API, Indeed API).
  // 
  // Your account's action is only limited to: 
  // - Viewing local data generated by other users.
  // - Managing users.
  //
  // (offline-login does not mean that you don't have an internet access.)
  JWT_TOKEN = 2;
}

message User {
  uint64 id = 1;
	uint64 fbid = 2;
  string uname = 3;
  User_fullname full_name = 4;
  string email = 5;
  string mobile = 6;
  google.protobuf.Timestamp birthdate = 7;
  google.protobuf.Timestamp created_at = 8;

  // picture_url points to a specific image resource on a file system.
  string picture_url = 9;
  User_gender gender = 10;
  User_type type = 11;

}

message UserAuthToken {
  uint64 user_id = 1;
  string auth_token = 2;
  TokenType type = 3;
  google.protobuf.Timestamp expires_in = 4;
}

